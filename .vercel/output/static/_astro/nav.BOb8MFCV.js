import{j as s}from"./jsx-runtime.CDeAccHH.js";import{r as e}from"./index.AGWyUyCC.js";import{s as C}from"./supabaseClient.CAFQAGi9.js";import{u as L,f as K,M as O,a as U,P as _,L as H,m as w}from"./motion.DW-nebHY.js";import"./index.D2MAbzvX.js";function $(n,r=!1){const[t,a]=e.useState(()=>typeof window>"u"?r:window.matchMedia(n).matches);return e.useEffect(()=>{const f=window.matchMedia(n),l=()=>{a(f.matches)};return f.addEventListener("change",l),()=>{f.removeEventListener("change",l)}},[n]),t}function z(){const n=e.useRef(!1);return L(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function T(){const n=z(),[r,t]=e.useState(0),a=e.useCallback(()=>{n.current&&t(r+1)},[r]);return[e.useCallback(()=>K.postRender(a),[a]),r]}class W extends e.Component{getSnapshotBeforeUpdate(r){const t=this.props.childRef.current;if(t&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B({children:n,isPresent:r}){const t=e.useId(),a=e.useRef(null),f=e.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=e.useContext(O);return e.useInsertionEffect(()=>{const{width:i,height:u,top:p,left:m}=f.current;if(r||!a.current||!i||!u)return;a.current.dataset.motionPopId=t;const o=document.createElement("style");return l&&(o.nonce=l),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${u}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[r]),e.createElement(W,{isPresent:r,childRef:a,sizeRef:f},e.cloneElement(n,{ref:a}))}const M=({children:n,initial:r,isPresent:t,onExitComplete:a,custom:f,presenceAffectsLayout:l,mode:i})=>{const u=U(G),p=e.useId(),m=e.useMemo(()=>({id:p,initial:r,isPresent:t,custom:f,onExitComplete:o=>{u.set(o,!0);for(const d of u.values())if(!d)return;a&&a()},register:o=>(u.set(o,!1),()=>u.delete(o))}),l?void 0:[t]);return e.useMemo(()=>{u.forEach((o,d)=>u.set(d,!1))},[t]),e.useEffect(()=>{!t&&!u.size&&a&&a()},[t]),i==="popLayout"&&(n=e.createElement(B,{isPresent:t},n)),e.createElement(_.Provider,{value:m},n)};function G(){return new Map}function Z(n){return e.useEffect(()=>()=>n(),[])}const x=n=>n.key||"";function A(n,r){n.forEach(t=>{const a=x(t);r.set(a,t)})}function D(n){const r=[];return e.Children.forEach(n,t=>{e.isValidElement(t)&&r.push(t)}),r}const Q=({children:n,custom:r,initial:t=!0,onExitComplete:a,exitBeforeEnter:f,presenceAffectsLayout:l=!0,mode:i="sync"})=>{const u=e.useContext(H).forceRender||T()[0],p=z(),m=D(n);let o=m;const d=e.useRef(new Map).current,j=e.useRef(o),g=e.useRef(new Map).current,E=e.useRef(!0);if(L(()=>{E.current=!1,A(m,g),j.current=o}),Z(()=>{E.current=!0,g.clear(),d.clear()}),E.current)return e.createElement(e.Fragment,null,o.map(c=>e.createElement(M,{key:x(c),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:l,mode:i},c)));o=[...o];const k=j.current.map(x),R=m.map(x),S=k.length;for(let c=0;c<S;c++){const h=k[c];R.indexOf(h)===-1&&!d.has(h)&&d.set(h,void 0)}return i==="wait"&&d.size&&(o=[]),d.forEach((c,h)=>{if(R.indexOf(h)!==-1)return;const N=g.get(h);if(!N)return;const I=k.indexOf(h);let y=c;if(!y){const F=()=>{d.delete(h);const v=Array.from(g.keys()).filter(b=>!R.includes(b));if(v.forEach(b=>g.delete(b)),j.current=m.filter(b=>{const P=x(b);return P===h||v.includes(P)}),!d.size){if(p.current===!1)return;u(),a&&a()}};y=e.createElement(M,{key:x(N),isPresent:!1,onExitComplete:F,custom:r,presenceAffectsLayout:l,mode:i},N),d.set(h,y)}o.splice(I,0,y)}),o=o.map(c=>{const h=c.key;return d.has(h)?c:e.createElement(M,{key:x(c),isPresent:!0,presenceAffectsLayout:l,mode:i},c)}),e.createElement(e.Fragment,null,d.size?o:o.map(c=>e.cloneElement(c)))},ee=()=>{const n=$("(min-width: 1280px)"),[r,t]=e.useState(!1),[a,f]=e.useState(null);e.useEffect(()=>{const i=async()=>{const{data:p,error:m}=await C.auth.getSession();m||!p.session?f(null):f(p.session.user)};i();const{data:u}=C.auth.onAuthStateChange(()=>{i()});return()=>{u.subscription.unsubscribe()}},[]);const l=async()=>{const{error:i}=await C.auth.signOut({scope:"local"});await C.auth.signOut(),i?console.error("Gagal logout:",i.message):(localStorage.clear(),window.location.href="/")};return s.jsx("header",{className:"w-full h-16 md:h-20 fixed bg-white shadow-[0_0_2px_0_rgb(0,0,0,0.2)] z-40",children:s.jsxs("div",{className:"h-full container mx-auto px-8 lg:px-32 flex justify-between items-center",children:[s.jsxs("a",{href:"/",className:"text-xl lg:text-2xl font-bold text-black",children:["apmcXdb",s.jsx("span",{className:"text-primary",children:"Net"})]}),n&&s.jsx("nav",{children:s.jsxs("ul",{className:"flex justify-between items-center gap-6",children:[s.jsx("li",{children:s.jsxs("a",{className:"hover:text-primary transition-all duration-200 ease-in-out",href:"/",children:[" ","Home"]})}),s.jsx("li",{children:s.jsx("a",{className:"hover:text-primary transition-all duration-200 ease-in-out",href:"#Product",children:"Product & Layanan"})}),s.jsx("li",{children:s.jsx("a",{className:"hover:text-primary transition-all duration-200 ease-in-out",href:"#Region",children:"Cakupan Wilayah"})})]})}),!n&&s.jsxs("button",{onClick:()=>t(i=>!i),className:"space-y-1.5 z-50",name:"HumburgerMenu",children:[s.jsx(w.span,{animate:{rotateZ:r?45:0,y:r?8:0},className:"block w-8 h-0.5 bg-black rounded"}),s.jsx(w.span,{animate:{width:r?0:24},className:"block w-6 h-0.5 bg-black rounded",children:" "}),s.jsx(w.span,{animate:{rotateZ:r?-45:0,y:r?-8:0,width:r?32:16},className:"block w-4 h-0.5 bg-black rounded",children:" "})]}),s.jsx(Q,{children:r&&!n&&s.jsx(w.div,{initial:{opacity:0,x:35},animate:{opacity:1,x:0},exit:{opacity:0,x:35},className:"w-full h-screen fixed bottom-0 left-0 flex justify-center items-center bg-white text-black",children:s.jsxs("ul",{className:"flex flex-col gap-16 text-lg",children:[s.jsx("li",{children:s.jsxs("a",{onClick:()=>t(!1),href:"/",children:[" ","Home"]})}),s.jsx("li",{children:s.jsx("a",{onClick:()=>t(!1),href:"#Product",children:"Product & Layanan"})}),s.jsx("li",{children:s.jsx("a",{onClick:()=>t(!1),href:"#Region",children:"Cakupan Wilayah"})}),a&&s.jsx("li",{children:s.jsx("button",{onClick:l,className:"w-full py-1 border border-dark rounded-md",children:"Log out"})})]})})}),n&&s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsx("a",{className:"py-2 px-4 bg-primary text-white rounded-md",href:"https://wa.me/6289677600427",target:"_blank",children:"Hubungi Kami"}),a&&s.jsx("button",{onClick:l,className:"font-semibold py-2 px-4 border border-dark rounded-md",children:"Log out"})]})]})})};export{ee as default};
