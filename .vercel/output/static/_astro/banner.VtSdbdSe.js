import{j as l}from"./jsx-runtime.CDeAccHH.js";import{r as u}from"./index.CCj4omEO.js";import{s as h}from"./supabaseClient.IMSIOtep.js";import{a as V}from"./apiServices.D9_t3OT5.js";import{a as I,b as P,M as B,i as k,u as G,c as W,f as S,d as O,p as Y,v as X,e as J,g as K,w as $,m as D}from"./motion.Dt5DqZOg.js";import"./index.D2MAbzvX.js";function q(e){const s=I(()=>P(e)),{isStatic:r}=u.useContext(B);if(r){const[,t]=u.useState(e);u.useEffect(()=>s.on("change",t),[])}return s}const Z=e=>e&&typeof e=="object"&&e.mix,Q=e=>Z(e)?e.mix:void 0;function ee(...e){const s=!Array.isArray(e[0]),r=s?0:-1,t=e[0+r],o=e[1+r],n=e[2+r],a=e[3+r],i=k(o,n,{mixer:Q(n[0]),...a});return s?i(t):i}function U(e,s){const r=q(s()),t=()=>r.set(s());return t(),G(()=>{const o=()=>S.update(t,!1,!0),n=e.map(a=>a.on("change",o));return()=>{n.forEach(a=>a()),W(t)}}),r}function se(e){O.current=[],e();const s=U(O.current,e);return O.current=void 0,s}function te(e,s,r,t){if(typeof e=="function")return se(e);const o=typeof s=="function"?s:ee(s,r,t);return Array.isArray(e)?N(e,o):N([e],([n])=>o(n))}function N(e,s){const r=I(()=>[]);return U(e,()=>{r.length=0;const t=e.length;for(let o=0;o<t;o++)r[o]=e[o].get();return s(r)})}function oe(e,s,r){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const A=new WeakMap;let g;function re(e,s){if(s){const{inlineSize:r,blockSize:t}=s[0];return{width:r,height:t}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function ne({target:e,contentRect:s,borderBoxSize:r}){var t;(t=A.get(e))===null||t===void 0||t.forEach(o=>{o({target:e,contentSize:s,get size(){return re(e,r)}})})}function ie(e){e.forEach(ne)}function ae(){typeof ResizeObserver>"u"||(g=new ResizeObserver(ie))}function le(e,s){g||ae();const r=oe(e);return r.forEach(t=>{let o=A.get(t);o||(o=new Set,A.set(t,o)),o.add(s),g?.observe(t)}),()=>{r.forEach(t=>{const o=A.get(t);o?.delete(s),o?.size||g?.unobserve(t)})}}const _=new Set;let E;function ce(){E=()=>{const e={width:window.innerWidth,height:window.innerHeight},s={target:window,size:e,contentSize:e};_.forEach(r=>r(s))},window.addEventListener("resize",E)}function me(e){return _.add(e),E||ce(),()=>{_.delete(e),!_.size&&E&&(E=void 0)}}function pe(e,s){return typeof e=="function"?me(e):le(e,s)}const de=50,L=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ue=()=>({time:0,x:L(),y:L()}),fe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function M(e,s,r,t){const o=r[s],{length:n,position:a}=fe[s],i=o.current,m=r.time;o.current=e["scroll"+a],o.scrollLength=e["scroll"+n]-e["client"+n],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Y(0,o.scrollLength,o.current);const c=t-m;o.velocity=c>de?0:X(o.current-i,c)}function ge(e,s,r){M(e,"x",s,r),M(e,"y",s,r),s.time=r}function he(e,s){const r={x:0,y:0};let t=e;for(;t&&t!==s;)if(t instanceof HTMLElement)r.x+=t.offsetLeft,r.y+=t.offsetTop,t=t.offsetParent;else if(t.tagName==="svg"){const o=t.getBoundingClientRect();t=t.parentElement;const n=t.getBoundingClientRect();r.x+=o.left-n.left,r.y+=o.top-n.top}else if(t instanceof SVGGraphicsElement){const{x:o,y:n}=t.getBBox();r.x+=o,r.y+=n;let a=null,i=t.parentNode;for(;!a;)i.tagName==="svg"&&(a=i),i=t.parentNode;t=a}else break;return r}const Ce={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},w={start:0,center:.5,end:1};function R(e,s,r=0){let t=0;if(w[e]!==void 0&&(e=w[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?t=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?t=o/100*document.documentElement.clientWidth:e.endsWith("vh")?t=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(t=s*e),r+t}const Pe=[0,0];function Se(e,s,r,t){let o=Array.isArray(e)?e:Pe,n=0,a=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,w[e]?e:"0"]),n=R(o[0],r,t),a=R(o[1],s),n-a}const Ee={x:0,y:0};function Ae(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function _e(e,s,r){const{offset:t=Ce.All}=r,{target:o=e,axis:n="y"}=r,a=n==="y"?"height":"width",i=o!==e?he(o,e):Ee,m=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Ae(o),c={width:e.clientWidth,height:e.clientHeight};s[n].offset.length=0;let f=!s[n].interpolate;const p=t.length;for(let d=0;d<p;d++){const x=Se(t[d],c[a],m[a],i[n]);!f&&x!==s[n].interpolatorOffsets[d]&&(f=!0),s[n].offset[d]=x}f&&(s[n].interpolate=k(s[n].offset,J(t)),s[n].interpolatorOffsets=[...s[n].offset]),s[n].progress=s[n].interpolate(s[n].current)}function xe(e,s=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,s!==e){let t=s;for(;t&&t!==e;)r.x.targetOffset+=t.offsetLeft,r.y.targetOffset+=t.offsetTop,t=t.offsetParent}r.x.targetLength=s===e?s.scrollWidth:s.clientWidth,r.y.targetLength=s===e?s.scrollHeight:s.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function Oe(e,s,r,t={}){return{measure:()=>xe(e,t.target,r),update:o=>{ge(e,r,o),(t.offset||t.target)&&_e(e,r,t)},notify:()=>s(r)}}const C=new WeakMap,F=new WeakMap,b=new WeakMap,j=e=>e===document.documentElement?window:e;function be(e,{container:s=document.documentElement,...r}={}){let t=b.get(s);t||(t=new Set,b.set(s,t));const o=ue(),n=Oe(s,e,o,r);if(t.add(n),!C.has(s)){const i=()=>{for(const d of t)d.measure()},m=()=>{for(const d of t)d.update(K.timestamp)},c=()=>{for(const d of t)d.notify()},f=()=>{S.read(i,!1,!0),S.read(m,!1,!0),S.update(c,!1,!0)};C.set(s,f);const p=j(s);window.addEventListener("resize",f,{passive:!0}),s!==document.documentElement&&F.set(s,pe(s,f)),p.addEventListener("scroll",f,{passive:!0})}const a=C.get(s);return S.read(a,!1,!0),()=>{var i;W(a);const m=b.get(s);if(!m||(m.delete(n),m.size))return;const c=C.get(s);C.delete(s),c&&(j(s).removeEventListener("scroll",c),(i=F.get(s))===null||i===void 0||i(),window.removeEventListener("resize",c))}}function T(e,s){$(!!(!s||s.current))}const we=()=>({scrollX:P(0),scrollY:P(0),scrollXProgress:P(0),scrollYProgress:P(0)});function Ie({container:e,target:s,layoutEffect:r=!0,...t}={}){const o=I(we);return(r?G:u.useEffect)(()=>(T("target",s),T("container",e),be(({x:a,y:i})=>{o.scrollX.set(a.current),o.scrollXProgress.set(a.progress),o.scrollY.set(i.current),o.scrollYProgress.set(i.progress)},{...t,container:e?.current||void 0,target:s?.current||void 0})),[e,s,JSON.stringify(t.offset)]),o}var ye={ACLOCAL_PATH:"C:\\Program Files\\Git\\mingw64\\share\\aclocal;C:\\Program Files\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",ANDROID_HOME:"C:\\Users\\rikop\\AppData\\Local\\Android\\Sdk\\platform-tools",APPDATA:"C:\\Users\\rikop\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133586828528994773",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_7644_RJILLYIDQIRPHLPC",COLOR:"1",COLORTERM:"truecolor",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Program Files/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EXEPATH:"C:\\Program Files\\Git\\bin",GIT_ASKPASS:"c:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\rikop",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\rikop",HOSTNAME:"DESKTOP",INFOPATH:"C:\\Program Files\\Git\\mingw64\\local\\info;C:\\Program Files\\Git\\mingw64\\share\\info;C:\\Program Files\\Git\\usr\\local\\info;C:\\Program Files\\Git\\usr\\share\\info;C:\\Program Files\\Git\\usr\\info;C:\\Program Files\\Git\\share\\info",INIT_CWD:"E:\\projects\\Astrojs projects\\ApmcProjects",JAVA_HOME:"C:\\Program Files\\Microsoft\\jdk-17.0.10.7-hotspot\\",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\rikop\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP",MANPATH:"C:\\Program Files\\Git\\mingw64\\local\\man;C:\\Program Files\\Git\\mingw64\\share\\man;C:\\Program Files\\Git\\usr\\local\\man;C:\\Program Files\\Git\\usr\\share\\man;C:\\Program Files\\Git\\usr\\man;C:\\Program Files\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Program Files/Git/mingw64",MSYS:"enable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Program Files/Git/mingw64",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\rikop\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\rikop\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\rikop\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\rikop\\.npm-init.js",npm_config_local_prefix:"E:\\projects\\Astrojs projects\\ApmcProjects",npm_config_node_gyp:"C:\\Users\\rikop\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\rikop\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\rikop\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v22.12.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\rikop\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"astro check && astro build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"E:\\projects\\Astrojs projects\\ApmcProjects\\package.json",npm_package_name:"apmcprojects",npm_package_version:"0.0.1",NUMBER_OF_PROCESSORS:"4",OneDrive:"C:\\Users\\rikop\\OneDrive",OneDriveConsumer:"C:\\Users\\rikop\\OneDrive",ORIGINAL_PATH:"C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\rikop\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts;C:\\Python312;C:\\Program Files\\Microsoft\\jdk-17.0.10.7-hotspot\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs;C:\\Users\\rikop\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rikop\\AppData\\Local\\Programs\\oh-my-posh\\bin;C:\\Users\\rikop\\AppData\\Roaming\\npm",ORIGINAL_TEMP:"C:/Users/rikop/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/rikop/AppData/Local/Temp",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",PATH:"E:\\projects\\Astrojs projects\\ApmcProjects\\node_modules\\.bin;E:\\projects\\Astrojs projects\\node_modules\\.bin;E:\\projects\\node_modules\\.bin;E:\\node_modules\\.bin;C:\\Users\\rikop\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\rikop\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\rikop\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts;C:\\Python312;C:\\Program Files\\Microsoft\\jdk-17.0.10.7-hotspot\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs;C:\\Users\\rikop\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rikop\\AppData\\Local\\Programs\\oh-my-posh\\bin;C:\\Users\\rikop\\AppData\\Roaming\\npm;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW",PKG_CONFIG_PATH:"C:\\Program Files\\Git\\mingw64\\lib\\pkgconfig;C:\\Program Files\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Program Files/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Program Files/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",POSH_INSTALLER:"winget",POSH_THEMES_PATH:"C:\\Users\\rikop\\AppData\\Local\\Programs\\oh-my-posh\\themes",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 78 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"4e03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl4b3R6b2V2cXdrb2dudXJwY2h2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI5NTA2NjcsImV4cCI6MjA0ODUyNjY2N30.0YstzNH0Ze9b9vffIWGaWAMS82BqhDqEmC_I3kYQQHg",PUBLIC_SUPABASE_URL:"https://yxotzoevqwkognurpchv.supabase.co",PWD:"E:/projects/Astrojs projects/ApmcProjects",SESSIONNAME:"Console",SHELL:"C:\\Program Files\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Program Files/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\rikop\\AppData\\Local\\Temp",TERM:"xterm-256color",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.95.3",TMP:"C:\\Users\\rikop\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\rikop\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP",USERDOMAIN_ROAMINGPROFILE:"DESKTOP",USERNAME:"RikoPurnama",USERPROFILE:"C:\\Users\\rikop",VBOX_MSI_INSTALL_PATH:"C:\\Program Files\\Oracle\\VirtualBox\\",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ae55a78922-sock",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Program Files/nodejs/node.exe"};const ve=()=>{const[e,s]=u.useState(""),[r,t]=u.useState(""),[o,n]=u.useState(null),[a,i]=u.useState(!1),[m,c]=u.useState(""),f=async p=>{p.preventDefault(),i(!0),c("");try{let d=null;if(o){const H=`${Date.now()}-${o.name}`,{data:z,error:v}=await h.storage.from("promotion images").upload(H,o);if(v)throw new Error(`Gagal mengunggah gambar: ${v.message}`);d=`${ye.PUBLIC_SUPABASE_URL}/storage/v1/object/public/promotion images/${z?.path}`}const{data:x,error:y}=await h.from("Promotion").insert([{title:e,description:r,imageUrl:d}]).select();if(y)throw new Error(`Gagal menyimpan data promosi: ${y.message}`);c("Promosi berhasil ditambahkan!"),s(""),t(""),n(null)}catch(d){c(d.message||"Terjadi kesalahan")}finally{i(!1)}};return l.jsxs("div",{className:"w-full max-w-[500px] bg-white mx-auto mt-10 p-5 border rounded shadow-xl",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tambah Promo"}),l.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-semibold mb-1",children:"Judul Promosi"}),l.jsx("input",{type:"text",value:e,onChange:p=>s(p.target.value),required:!0,className:"w-full border px-3 py-2 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-semibold mb-1",children:"Deskripsi (Opsional)"}),l.jsx("textarea",{value:r,onChange:p=>t(p.target.value),className:"w-full border px-3 py-2 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-semibold mb-1",children:"Gambar (Opsional)"}),l.jsx("input",{type:"file",accept:"image/*",onChange:p=>n(p.target.files?.[0]||null),className:"w-full"})]}),l.jsx("button",{type:"submit",disabled:a,className:"bg-blue-500 text-white px-4 py-2 rounded",children:a?"Menambahkan...":"Tambah Promosi"})]}),m&&l.jsx("p",{className:"mt-4 text-green-500",children:m})]})},De=()=>{const[e,s]=u.useState([]),[r,t]=u.useState(!0),[o,n]=u.useState(null);u.useEffect(()=>{let i=!0;return(async()=>{try{t(!0);const c=await V();i&&s(c)}catch{i&&n("Gagal memuat promosi.")}finally{i&&t(!1)}})(),()=>{i=!1}},[]);const a=async(i,m)=>{try{if(!window.confirm("Apakah Anda yakin ingin menghapus promo ini?"))return;if(m){const f=m.split("/").pop(),{error:p}=await h.storage.from("promotion images").remove([f]);if(p)throw new Error(`Gagal menghapus gambar: ${p.message}`)}const{error:c}=await h.from("Promotion").delete().eq("id",i);if(c)throw new Error(`Gagal menghapus promo: ${c.message}`);s(f=>f.filter(p=>p.id!==i))}catch(c){alert(c.message||"Terjadi kesalahan saat menghapus promo.")}};return r?l.jsx("p",{children:"Loading..."}):o?l.jsx("p",{children:o}):l.jsx("div",{className:"overflow-hidden",children:l.jsx("div",{className:"flex relative w-full overflow-hidden my-12",children:l.jsx("div",{className:"w-full flex gap-20 md:gap-32 lg:gap-40 animate-loop-scroll",children:e.map(i=>l.jsxs("div",{className:"p-2 text-slate-950 flex flex-col items-stretch relative",children:[!i.imageUrl&&l.jsx("p",{className:"w-80 text-lg md:text-xl lg:text-2xl font-serif tracking-widest font-semibold text-primary",children:i.title}),i.imageUrl&&l.jsx("img",{loading:"lazy",className:"max-w-80 h-20 md:h-28 object-cover rounded-xl",src:i.imageUrl,alt:i.title}),l.jsx("button",{onClick:()=>a(i.id,i.imageUrl),className:"w-auto py-0 px-2 text-black absolute -top-0 -right-2 backdrop-blur-md rounded shadow z-50",children:"X"})]},i.id))})})})},Te=()=>{const[e,s]=u.useState(null),[r,t]=u.useState(!1),{scrollYProgress:o}=Ie(),n=te(o,[0,1],[0,-500]);return u.useEffect(()=>{const a=async()=>{const{data:m,error:c}=await h.auth.getSession();c||!m.session?s(null):s(m.session.user)};a();const{data:i}=h.auth.onAuthStateChange(()=>{a()});return()=>{i.subscription.unsubscribe()}},[]),l.jsxs("section",{className:"overflow-hidden mt-52 md:mt-32 lg:mt-0",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(D.h1,{style:{x:n},className:"flex items-center text-[2em] font-mono font-semibold z-10 m-0 whitespace-nowrap mt-auto ml-8 transition-all duration-[2s] ease-[cubic-bezier(0.165,0.84,0.44,1)]",children:"Promo"}),e?l.jsx(D.button,{style:{x:n},onClick:()=>{t(!0)},className:"border border-dark px-4 rounded-lg z-10",children:"Tambahkan Promo"}):""]}),l.jsx(De,{}),r?l.jsx("div",{onClick:()=>{t(!1)},className:"w-full h-[100vh] bg-dark/50 flex justify-center items-center fixed left-0 top-0 z-[99]",children:l.jsx("div",{onClick:a=>a.stopPropagation(),children:l.jsx(ve,{})})}):""]})};export{Te as default};
