import{j as l}from"./jsx-runtime.CDeAccHH.js";import{r as u}from"./index.AGWyUyCC.js";import{s as C}from"./supabaseClient.CAFQAGi9.js";import{a as V}from"./apiServices.DXWvDrVz.js";import{a as y,b as S,M as B,i as k,u as G,c as W,f as E,d as b,p as Y,v as X,e as J,g as K,w as $,m as N}from"./motion.DW-nebHY.js";import"./index.D2MAbzvX.js";function q(e){const s=y(()=>S(e)),{isStatic:r}=u.useContext(B);if(r){const[,t]=u.useState(e);u.useEffect(()=>s.on("change",t),[])}return s}const Z=e=>e&&typeof e=="object"&&e.mix,Q=e=>Z(e)?e.mix:void 0;function ee(...e){const s=!Array.isArray(e[0]),r=s?0:-1,t=e[0+r],o=e[1+r],n=e[2+r],i=e[3+r],c=k(o,n,{mixer:Q(n[0]),...i});return s?c(t):c}function U(e,s){const r=q(s()),t=()=>r.set(s());return t(),G(()=>{const o=()=>E.update(t,!1,!0),n=e.map(i=>i.on("change",o));return()=>{n.forEach(i=>i()),W(t)}}),r}function se(e){b.current=[],e();const s=U(b.current,e);return b.current=void 0,s}function te(e,s,r,t){if(typeof e=="function")return se(e);const o=typeof s=="function"?s:ee(s,r,t);return Array.isArray(e)?D(e,o):D([e],([n])=>o(n))}function D(e,s){const r=y(()=>[]);return U(e,()=>{r.length=0;const t=e.length;for(let o=0;o<t;o++)r[o]=e[o].get();return s(r)})}function oe(e,s,r){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const x=new WeakMap;let h;function re(e,s){if(s){const{inlineSize:r,blockSize:t}=s[0];return{width:r,height:t}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function ne({target:e,contentRect:s,borderBoxSize:r}){var t;(t=x.get(e))===null||t===void 0||t.forEach(o=>{o({target:e,contentSize:s,get size(){return re(e,r)}})})}function ie(e){e.forEach(ne)}function ae(){typeof ResizeObserver>"u"||(h=new ResizeObserver(ie))}function le(e,s){h||ae();const r=oe(e);return r.forEach(t=>{let o=x.get(t);o||(o=new Set,x.set(t,o)),o.add(s),h?.observe(t)}),()=>{r.forEach(t=>{const o=x.get(t);o?.delete(s),o?.size||h?.unobserve(t)})}}const O=new Set;let A;function ce(){A=()=>{const e={width:window.innerWidth,height:window.innerHeight},s={target:window,size:e,contentSize:e};O.forEach(r=>r(s))},window.addEventListener("resize",A)}function me(e){return O.add(e),A||ce(),()=>{O.delete(e),!O.size&&A&&(A=void 0)}}function pe(e,s){return typeof e=="function"?me(e):le(e,s)}const de=50,L=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ue=()=>({time:0,x:L(),y:L()}),fe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function M(e,s,r,t){const o=r[s],{length:n,position:i}=fe[s],c=o.current,d=r.time;o.current=e["scroll"+i],o.scrollLength=e["scroll"+n]-e["client"+n],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Y(0,o.scrollLength,o.current);const a=t-d;o.velocity=a>de?0:X(o.current-c,a)}function ge(e,s,r){M(e,"x",s,r),M(e,"y",s,r),s.time=r}function he(e,s){const r={x:0,y:0};let t=e;for(;t&&t!==s;)if(t instanceof HTMLElement)r.x+=t.offsetLeft,r.y+=t.offsetTop,t=t.offsetParent;else if(t.tagName==="svg"){const o=t.getBoundingClientRect();t=t.parentElement;const n=t.getBoundingClientRect();r.x+=o.left-n.left,r.y+=o.top-n.top}else if(t instanceof SVGGraphicsElement){const{x:o,y:n}=t.getBBox();r.x+=o,r.y+=n;let i=null,c=t.parentNode;for(;!i;)c.tagName==="svg"&&(i=c),c=t.parentNode;t=i}else break;return r}const Ce={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},I={start:0,center:.5,end:1};function F(e,s,r=0){let t=0;if(I[e]!==void 0&&(e=I[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?t=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?t=o/100*document.documentElement.clientWidth:e.endsWith("vh")?t=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(t=s*e),r+t}const Pe=[0,0];function Se(e,s,r,t){let o=Array.isArray(e)?e:Pe,n=0,i=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,I[e]?e:"0"]),n=F(o[0],r,t),i=F(o[1],s),n-i}const Ee={x:0,y:0};function Ae(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function _e(e,s,r){const{offset:t=Ce.All}=r,{target:o=e,axis:n="y"}=r,i=n==="y"?"height":"width",c=o!==e?he(o,e):Ee,d=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Ae(o),a={width:e.clientWidth,height:e.clientHeight};s[n].offset.length=0;let f=!s[n].interpolate;const p=t.length;for(let m=0;m<p;m++){const g=Se(t[m],a[i],d[i],c[n]);!f&&g!==s[n].interpolatorOffsets[m]&&(f=!0),s[n].offset[m]=g}f&&(s[n].interpolate=k(s[n].offset,J(t)),s[n].interpolatorOffsets=[...s[n].offset]),s[n].progress=s[n].interpolate(s[n].current)}function xe(e,s=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,s!==e){let t=s;for(;t&&t!==e;)r.x.targetOffset+=t.offsetLeft,r.y.targetOffset+=t.offsetTop,t=t.offsetParent}r.x.targetLength=s===e?s.scrollWidth:s.clientWidth,r.y.targetLength=s===e?s.scrollHeight:s.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function Oe(e,s,r,t={}){return{measure:()=>xe(e,t.target,r),update:o=>{ge(e,r,o),(t.offset||t.target)&&_e(e,r,t)},notify:()=>s(r)}}const P=new WeakMap,j=new WeakMap,w=new WeakMap,R=e=>e===document.documentElement?window:e;function be(e,{container:s=document.documentElement,...r}={}){let t=w.get(s);t||(t=new Set,w.set(s,t));const o=ue(),n=Oe(s,e,o,r);if(t.add(n),!P.has(s)){const c=()=>{for(const m of t)m.measure()},d=()=>{for(const m of t)m.update(K.timestamp)},a=()=>{for(const m of t)m.notify()},f=()=>{E.read(c,!1,!0),E.read(d,!1,!0),E.update(a,!1,!0)};P.set(s,f);const p=R(s);window.addEventListener("resize",f,{passive:!0}),s!==document.documentElement&&j.set(s,pe(s,f)),p.addEventListener("scroll",f,{passive:!0})}const i=P.get(s);return E.read(i,!1,!0),()=>{var c;W(i);const d=w.get(s);if(!d||(d.delete(n),d.size))return;const a=P.get(s);P.delete(s),a&&(R(s).removeEventListener("scroll",a),(c=j.get(s))===null||c===void 0||c(),window.removeEventListener("resize",a))}}function T(e,s){$(!!(!s||s.current))}const we=()=>({scrollX:S(0),scrollY:S(0),scrollXProgress:S(0),scrollYProgress:S(0)});function Ie({container:e,target:s,layoutEffect:r=!0,...t}={}){const o=y(we);return(r?G:u.useEffect)(()=>(T("target",s),T("container",e),be(({x:i,y:c})=>{o.scrollX.set(i.current),o.scrollXProgress.set(i.progress),o.scrollY.set(c.current),o.scrollYProgress.set(c.progress)},{...t,container:e?.current||void 0,target:s?.current||void 0})),[e,s,JSON.stringify(t.offset)]),o}var ye={ACLOCAL_PATH:"C:\\Program Files\\Git\\mingw64\\share\\aclocal;C:\\Program Files\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",ANDROID_HOME:"C:\\Users\\rikop\\AppData\\Local\\Android\\Sdk\\platform-tools",APPDATA:"C:\\Users\\rikop\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133586828528994773",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_7644_RJILLYIDQIRPHLPC",COLOR:"1",COLORTERM:"truecolor",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Program Files/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EXEPATH:"C:\\Program Files\\Git\\bin",GIT_ASKPASS:"c:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\rikop",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\rikop",HOSTNAME:"DESKTOP",INFOPATH:"C:\\Program Files\\Git\\mingw64\\local\\info;C:\\Program Files\\Git\\mingw64\\share\\info;C:\\Program Files\\Git\\usr\\local\\info;C:\\Program Files\\Git\\usr\\share\\info;C:\\Program Files\\Git\\usr\\info;C:\\Program Files\\Git\\share\\info",INIT_CWD:"E:\\projects\\Astrojs projects\\ApmcProjects",JAVA_HOME:"C:\\Program Files\\Microsoft\\jdk-17.0.10.7-hotspot\\",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\rikop\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP",MANPATH:"C:\\Program Files\\Git\\mingw64\\local\\man;C:\\Program Files\\Git\\mingw64\\share\\man;C:\\Program Files\\Git\\usr\\local\\man;C:\\Program Files\\Git\\usr\\share\\man;C:\\Program Files\\Git\\usr\\man;C:\\Program Files\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Program Files/Git/mingw64",MSYS:"enable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Program Files/Git/mingw64",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\rikop\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\rikop\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\rikop\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\rikop\\.npm-init.js",npm_config_local_prefix:"E:\\projects\\Astrojs projects\\ApmcProjects",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\rikop\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\rikop\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v18.20.5 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"astro check && astro build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_engines_node:"18.x",npm_package_json:"E:\\projects\\Astrojs projects\\ApmcProjects\\package.json",npm_package_name:"apmcprojects",npm_package_version:"0.0.1",NUMBER_OF_PROCESSORS:"4",OneDrive:"C:\\Users\\rikop\\OneDrive",OneDriveConsumer:"C:\\Users\\rikop\\OneDrive",ORIGINAL_PATH:"C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\rikop\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts;C:\\Python312;C:\\Program Files\\Microsoft\\jdk-17.0.10.7-hotspot\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs;C:\\Users\\rikop\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rikop\\AppData\\Local\\Programs\\oh-my-posh\\bin;C:\\Users\\rikop\\AppData\\Roaming\\npm",ORIGINAL_TEMP:"C:/Users/rikop/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/rikop/AppData/Local/Temp",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",PATH:"E:\\projects\\Astrojs projects\\ApmcProjects\\node_modules\\.bin;E:\\projects\\Astrojs projects\\node_modules\\.bin;E:\\projects\\node_modules\\.bin;E:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\rikop\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\rikop\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts;C:\\Python312;C:\\Program Files\\Microsoft\\jdk-17.0.10.7-hotspot\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs;C:\\Users\\rikop\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rikop\\AppData\\Local\\Programs\\oh-my-posh\\bin;C:\\Users\\rikop\\AppData\\Roaming\\npm;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW",PKG_CONFIG_PATH:"C:\\Program Files\\Git\\mingw64\\lib\\pkgconfig;C:\\Program Files\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Program Files/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Program Files/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",POSH_INSTALLER:"winget",POSH_THEMES_PATH:"C:\\Users\\rikop\\AppData\\Local\\Programs\\oh-my-posh\\themes",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 78 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"4e03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl4b3R6b2V2cXdrb2dudXJwY2h2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI5NTA2NjcsImV4cCI6MjA0ODUyNjY2N30.0YstzNH0Ze9b9vffIWGaWAMS82BqhDqEmC_I3kYQQHg",PUBLIC_SUPABASE_URL:"https://yxotzoevqwkognurpchv.supabase.co",PWD:"E:/projects/Astrojs projects/ApmcProjects",SESSIONNAME:"Console",SHELL:"C:\\Program Files\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Program Files/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\rikop\\AppData\\Local\\Temp",TERM:"xterm-256color",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.95.3",TMP:"C:\\Users\\rikop\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\rikop\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP",USERDOMAIN_ROAMINGPROFILE:"DESKTOP",USERNAME:"RikoPurnama",USERPROFILE:"C:\\Users\\rikop",VBOX_MSI_INSTALL_PATH:"C:\\Program Files\\Oracle\\VirtualBox\\",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\rikop\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ae55a78922-sock",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Program Files/nodejs/node.exe"};const ve=()=>{const[e,s]=u.useState(""),[r,t]=u.useState(""),[o,n]=u.useState(null),[i,c]=u.useState(!1),[d,a]=u.useState(""),f=async p=>{p.preventDefault(),c(!0),a("");try{let m=null;if(o){const H=`${Date.now()}-${o.name}`,{data:z,error:v}=await C.storage.from("promotion images").upload(H,o);if(v)throw new Error(`Gagal mengunggah gambar: ${v.message}`);m=`${ye.PUBLIC_SUPABASE_URL}/storage/v1/object/public/promotion images/${z?.path}`}const{data:g,error:_}=await C.from("Promotion").insert([{title:e,description:r,imageUrl:m}]).select();if(_)throw new Error(`Gagal menyimpan data promosi: ${_.message}`);a("Promosi berhasil ditambahkan!"),s(""),t(""),n(null)}catch(m){a(m.message||"Terjadi kesalahan")}finally{c(!1)}};return l.jsxs("div",{className:"w-full max-w-[500px] bg-white mx-auto mt-10 p-5 border rounded shadow-xl",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tambah Promo"}),l.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-semibold mb-1",children:"Judul Promosi"}),l.jsx("input",{type:"text",value:e,onChange:p=>s(p.target.value),required:!0,className:"w-full border px-3 py-2 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-semibold mb-1",children:"Deskripsi (Opsional)"}),l.jsx("textarea",{value:r,onChange:p=>t(p.target.value),className:"w-full border px-3 py-2 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-semibold mb-1",children:"Gambar (Opsional)"}),l.jsx("input",{type:"file",accept:"image/*",onChange:p=>n(p.target.files?.[0]||null),className:"w-full"})]}),l.jsx("button",{type:"submit",disabled:i,className:"bg-blue-500 text-white px-4 py-2 rounded",children:i?"Menambahkan...":"Tambah Promosi"})]}),d&&l.jsx("p",{className:"mt-4 text-green-500",children:d})]})},Ne=()=>{const[e,s]=u.useState([]),[r,t]=u.useState(null),[o,n]=u.useState(!0),[i,c]=u.useState(null);u.useEffect(()=>{let a=!0;(async()=>{try{n(!0);const g=await V();a&&s(g)}catch{a&&c("Gagal memuat promosi.")}finally{a&&n(!1)}})();const p=async()=>{const{data:g,error:_}=await C.auth.getSession();_||!g.session?t(null):t(g.session.user)};p();const{data:m}=C.auth.onAuthStateChange(()=>{p()});return()=>{m.subscription.unsubscribe(),a=!1}},[]);const d=async(a,f)=>{try{if(!window.confirm("Apakah Anda yakin ingin menghapus promo ini?"))return;if(f){const m=f.split("/").pop(),{error:g}=await C.storage.from("promotion images").remove([m]);if(g)throw new Error(`Gagal menghapus gambar: ${g.message}`)}const{error:p}=await C.from("Promotion").delete().eq("id",a);if(p)throw new Error(`Gagal menghapus promo: ${p.message}`);s(m=>m.filter(g=>g.id!==a))}catch(p){alert(p.message||"Terjadi kesalahan saat menghapus promo.")}};return o?l.jsx("p",{children:"Loading..."}):i?l.jsx("p",{children:i}):l.jsx("div",{className:"overflow-hidden",children:l.jsx("div",{className:"flex relative w-full overflow-hidden my-12",children:l.jsx("div",{className:"w-full flex gap-20 md:gap-32 lg:gap-40 animate-loop-scroll",children:e.map(a=>l.jsxs("div",{className:"p-2 text-slate-950 flex flex-col items-stretch relative",children:[!a.imageUrl&&l.jsx("p",{className:"w-80 text-lg md:text-xl lg:text-2xl font-serif tracking-widest font-semibold text-primary",children:a.title}),a.imageUrl&&l.jsx("img",{loading:"lazy",className:"max-w-80 h-20 md:h-28 object-cover rounded-xl",src:a.imageUrl,alt:a.title}),r&&l.jsx("button",{onClick:()=>d(a.id,a.imageUrl),className:"w-auto py-0 px-2 text-black absolute -top-0 -right-2 backdrop-blur-md rounded shadow z-50",children:"X"})]},a.id))})})})},Te=()=>{const[e,s]=u.useState(null),[r,t]=u.useState(!1),{scrollYProgress:o}=Ie(),n=te(o,[0,1],[0,-500]);return u.useEffect(()=>{const i=async()=>{const{data:d,error:a}=await C.auth.getSession();a||!d.session?s(null):s(d.session.user)};i();const{data:c}=C.auth.onAuthStateChange(()=>{i()});return()=>{c.subscription.unsubscribe()}},[]),l.jsxs("section",{className:"overflow-hidden mt-52 md:mt-32 lg:mt-0",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(N.h1,{style:{x:n},className:"flex items-center text-[2em] font-mono font-semibold z-10 m-0 whitespace-nowrap mt-auto ml-8 transition-all duration-[2s] ease-[cubic-bezier(0.165,0.84,0.44,1)]",children:"Promo"}),e?l.jsx(N.button,{style:{x:n},onClick:()=>{t(!0)},className:"border border-dark px-4 rounded-lg z-10",children:"Tambahkan Promo"}):""]}),l.jsx(Ne,{}),r?l.jsx("div",{onClick:()=>{t(!1)},className:"w-full h-[100vh] bg-dark/50 flex justify-center items-center fixed left-0 top-0 z-[99]",children:l.jsx("div",{onClick:i=>i.stopPropagation(),children:l.jsx(ve,{})})}):""]})};export{Te as default};
